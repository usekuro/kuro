protocol: http
port: 7070
meta:
  name: "Demo API"
  description: "Simple greeting mock with imported template"

import:
  - ./mocks/functions/time.kurof

functions:
  greeting: |
    {{ define "greeting" }}Hello {{ .input.name }} from {{ now }}{{ end }}

context:
  variables:
    env: "dev"

routes:
  - path: /hello
    method: POST
    response:
      status: 200
      headers:
        X-Mock: "UseKuro"
      body: "{{ template \"greeting\" .input }}"
